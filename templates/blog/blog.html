<!doctype html>
<html lang="en">
	<head>
		<title>{{ shared.app_info.name }} | Blog</title>
		<meta name="description" content="A template application." />
		{% include "_partials/meta.html" %} {% include "_partials/scripts.html" %}
	</head>
	<body>
		{% include "_partials/navbar.html" %}
		<main>
			<div class="container">
				<div class="flex flex-col gap-4">
					{% if let Some(user) = shared.current_user %} {% if user.is_admin() %}
					<div class="flex items-center justify-end gap-4">
						<button
							hx-delete="/blog/{{ blog.id }}"
							hx-confirm="Are you sure you want to delete this post?"
							data-tooltip="Delete post"
							class="text-red-700"
						>
							<svg
								xmlns="http://www.w3.org/2000/svg"
								width="20"
								height="20"
								viewBox="0 0 24 24"
								aria-label="delete"
							>
								<path
									fill="none"
									stroke="currentColor"
									stroke-linecap="round"
									stroke-linejoin="round"
									stroke-width="2"
									d="M4 7h16m-10 4v6m4-6v6M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2l1-12M9 7V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3"
								/>
							</svg>
						</button>
						<button
							hx-get="/blog/{{ blog.id }}/edit"
							hx-target="#modal"
							class="btn success text-sm"
						>
							Edit Post
						</button>
					</div>
					{% endif %} {% endif %}
					<article class="blog card flex flex-col gap-8">
						<header>
							<h1>{{ blog.title }}</h1>
							<img src="{{ blog.image_url }}" alt="{{ blog.title }}" />
						</header>
						<div class="flex flex-col gap-4 text-lg md:text-xl">
							{{ blog.content | markdown | safe }}
						</div>
					</article>
				</div>
			</div>
		</main>
		{% include "_partials/footer.html" %}
	</body>
</html>
